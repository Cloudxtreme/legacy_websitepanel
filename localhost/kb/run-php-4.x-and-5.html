<!DOCTYPE html> 
<html lang="en" class="static orchard-blogs"> 

<!-- Mirrored from localhost/kb/run-php-4.x-and-5.x-runtimes-simultaneously-on-iis-7 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 12 Nov 2013 19:04:54 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head> 
    <meta charset="utf-8" />
    <title>Run PHP 4.x and 5.x runtimes simultaneously on IIS 7 - WebsitePanel</title> 
    <link href="../Modules/Orchard.Localization/Styles/orchard-localization-base.css" rel="stylesheet" type="text/css" />
<link href="../Themes/WebsitePanel/Styles/Site.css" rel="stylesheet" type="text/css" />
<meta content="Orchard" name="generator" />
<link href="../modules/orchard.themes/Content/orchard.ico" rel="shortcut icon" type="image/x-icon" />
<link href="http://fonts.googleapis.com/css?family=Lobster&amp;subset=latin" rel="stylesheet" type="text/css" />
<script src="../Core/Shapes/scripts/html5.js" type="text/javascript"></script>

<link rel="alternate" type="application/rss+xml" title="Knowledge Base" href="../rss5716?containerid=127" />

<link rel="alternate" type="application/rss+xml" title="Knowledge Base - Comments" href="../rss537e?commentedoncontainer=127" />

    <script>(function(d){d.className="dyn"+d.className.substring(6,d.className.length);})(document.documentElement);</script> 
</head> 
<body>


<div class="split-4" id="layout-wrapper">
<header id="layout-header" class="group">
    <div id="header">
        <div class="zone zone-header"><h1 id="branding"><a href="../index.html" title="WebsitePanel"></a></h1>

<div id="search">
    <form action="http://localhost/search">
        <input type="text" name="q" />
        <input type="submit" id="search" value="Search" />
    </form>
</div></div>
    </div>
</header>
<div id="layout-navigation" class="group">
    <div class="zone zone-navigation"><nav>
    <ul class="menu menu-main">
        
        <li>    <a href="../index.html">Home</a>
</li><li>    <a href="../whatsnew.html">What&#39;s new?</a>
</li><li>    <a href="../license.html">License</a>
</li><li>    <a href="../downloads.html">Downloads</a>
</li><li>    <a href="../demo.html">Demo</a>
</li><li>    <a href="../documentation.html">Documentation</a>
</li><li>    <a href="../works-with.html">Works With</a>
</li><li>    <a href="../contact-us.html">Contact Us</a>
</li>
    </ul>
</nav></div>
</div>
<div id="layout-before-main" class="group">
    <div class="zone zone-before-main"><article class="widget-html-widget widget">
    <p><a href="../documentation.html">Documentation</a> &gt;&nbsp;<a href="index.html">Knowledge Base</a>&nbsp;</p>
</article></div>
</div>
<div id="layout-main-container">
<div id="layout-main" class="group">
    <div id="layout-content" class="group">
        <div id="content" class="group">
            <div class="zone zone-content"><article class="content-item blog-post">
    <header>
        <h1>Run PHP 4.x and 5.x runtimes simultaneously on IIS 7</h1>

        <div class="metadata">
            
        </div>
    </header>
    <div class="content-localization">
    <div class="content-localizations">
        <h4>Translations:</h4>
        <ul class="localizations"><li class="first last"><a href="run-php-4.x-and-6.html">tr-TR</a></li></ul>
    </div>
</div>
<h2>Summary</h2> <p>To provide PHP 4.x / 5.x runtime support on Microsoft Internet Information Services 7.0 (x86 and x64), you configure both versions of PHP manually on a server, update Internet Information Services 7.0 service provider settings in WebsitePanel and setup a new hosting plan or update an existing one making PHP 4.x / 5.x runtimes are available to the customers. <p><a name="Section1"></a> <p><em>Note: The guide assumes you have PHP 5.x and 4.x already installed and configured on the server.</em></p> <p>To download PHP 4.x, visit <a href="http://www.php.net/releases/">http://www.php.net/releases/</a> and choose the version (<em>ZIP package</em>) you're going to provide to your clients. This scenario has been tested successfully on PHP 5.2.9 and PHP 4.4.9/4.4.8 versions.  <p>1. Here are two versions of PHP runtime installed on a server as shown on the picture  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_1.png"/> <p><em>Hint: Do not use spaces in the folder name when installing the runtime</em> <p>2. Run Registry Editor (regedit.exe), navigate to "HKEY_LOCAL_MACHINE\SOFTWARE" path (<em>or "HKEY_LOCAL_MACHINE\Wow6432Node\SOFTWARE" on <strong>x64</strong> platform</em>) and ensure that PHP exists there. In case if it does not exist then create it as shown on the picture  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_2.png"/> <p>3. Create setting IniFilePath (String Value) beneath PHP key and specify path to php.ini file that PHP 4 runtime should use to instantiate itself and process scripts, for example IniFilePath=C:\PHP_4.4.9  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_3.png"/> <p>4. Next beneath "HKEY_LOCAL_MACHINE\SOFTWARE\PHP" key, create a key with the name of major PHP version, for example 5.2.9  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_4.png"/> <p>5. Afterwards beneath the key has been added, create setting IniFilePath (String Value) and specify path to php.ini that PHP 5 rutime should use to instantiate itself and process scripts, for example IniFilePath=C:\PHP_5.2.9  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_5.png"/> <p>6. As soon as you have done with all of the steps outlined above, run iisreset from the command line  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_6.png"/> <p>7. Create two web sites to test both versions of PHP runtime  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_10.png"/><br><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_11.png"/> <p>8. Add corresponding handler script mappings for both PHP 5.x and 4.x demo web sites and click Yes button when prompted about adding PHP runtime in ISAPI and CGI Restrictions allowance list  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_12.png"/> <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/allow_fastcgi.png"/> <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_13.png"/> <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/allow_isapi.png"/> <p>9. Then it is necessary to confirm that both versions of PHP runtime work as expected. In order to confirm that you create phptest.php with the following content &lt;?php phpinfo(); ?&gt;. File must be saved in a web site's root folder you are going to test PHP at  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_7a.png"/><br><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_7b.png"/> <p>10. Here is an example screenshot for the web site with PHP 4.4.9 version configured  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_8.png"/> <p>11. Here is an example screenshot of PHP 5.2.9 web site running made on the same server that runs PHP 4.4.9 as well  <p><img src="../Media/Images/run_php_4_x_and_5_x_runtimes_simultaneously_on_iis_7/step_9.png"/>
</article></div>
        </div>
    </div>
</div>
</div>
<div id="layout-footer" class="group">
    <footer id="footer">
        <div id="footer-quad" class="group">
            <div id="footer-quad-fourth">
                <div class="zone zone-footer-quad-fourth"><article class="widget-html-widget widget">
    <center><span style="font-family: arial;" face="arial"><a href="../index.html">Home</a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="../license.html">License</a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="../whatsnew.html">What's new?</a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="../contact-us.html">Contact Us</a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="../privacy-policy/privacy-policy.html">Privacy Policy</a>&nbsp;&nbsp;&nbsp;&nbsp; <a href="../terms-of-use/terms-of-use.html">Terms of Use</a> </span></center>
</article></div>
            </div>
        </div>
        <div id="footer-sig" class="group">
            <div class="zone zone-footer">    <div class="credits"><span class="poweredby">Powered by <a href="http://www.orchardproject.net/" target="_blank">Orchard</a></span> <span class="copyright">&#169; 2011 Outercurve Foundation</span></div>
<div class="user-display">
        <span class="user-actions"><a href="../Users/Account/LogOn6af5.html?ReturnUrl=%2Fkb%2Frun-php-4.x-and-5.x-runtimes-simultaneously-on-iis-7">Sign In</a></span>
</div></div>
        </div>
    </footer>
</div>
</div>

</body>

<!-- Mirrored from localhost/kb/run-php-4.x-and-5.x-runtimes-simultaneously-on-iis-7 by HTTrack Website Copier/3.x [XR&CO'2013], Tue, 12 Nov 2013 19:05:21 GMT -->
</html>